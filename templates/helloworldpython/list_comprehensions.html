{% include "header.html" %}
<nav>
    <a href="/helloworldpython">Hello World - Python</a>
</nav>
{% block content %}
<div class="main-container">
    <h3>List Comprehensions</h3>
    <div>
<p>Use a list comprehension where you need a loop or a map.</p>
<strong>Note: </strong><strong><em>Use the embedded python interpreter at the bottom of this page to try the examples.</em></strong>
<h2>Examples</h2>

<h3>Using a loop</h3>
<code><pre>
expenses = [12.34, 34.45, 56.78, 0.45, 7.89, 9.00]

total = 0

for i in expenses:
    total += i

print(total)    
</pre></code>
Output
<code><pre>120.91000000000001</pre></code>

This style of programming a loop is called imperative programming. A list comprehension uses a declarative style of programming, which is more compact and considered pythonic way of coding. Imperative programming focuses on how to achieve a result, whereas declaration programming tells the computer what you want and leave the details of coding logic to the language.

<h3>Using a list comprehension</h3>
<code><pre>
total = 0
[total := total + i for i in expenses]
print(total)    
</pre></code>
We get the same output as above. A list comprehension returns a list of values; however, we get a single value by using the walrus operator, basically an assignment expression operator.

<h3>Using a map</h3>
<code><pre>
# return a list of values greater than 10.0

limit = 10.0

def myfilter(val):
    if val > limit:
        return val

filtered_expenses = map(myfilter, expenses)
print(list(filtered_expenses))    
</pre></code>
Output
<code><pre>
    [12.34, 34.45, 56.78, None, None, None]    
</pre></code>

<h3>Using list comprehension</h3>
<code><pre>
payable_expenses = [i for i in expenses if i > limit]
print(payable_expenses)    
</pre></code>
Output
<code><pre>[12.34, 34.45, 56.78]</pre></code>

<strong>Caution</strong>
Do not use list comprehension for large datasets, since it loads the entire output into the memory. Use a generator or a map instead.

<div>
    <iframe
      src="https://jupyterlite.github.io/demo/repl/index.html?kernel=python&toolbar=1"
      width="100%"
      height="500px"
    >
    </iframe>
    
    </div>
    </div>
    <hr>
    {% endblock %}
    {% include "footer.html" %} 